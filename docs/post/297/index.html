<!doctype html>
<html data-n-head-ssr lang="zh-CN" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh-CN%22%7D%7D">
<head>
  <title>使用console的一些骚操作来封装API请求及输出相关日志</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta data-n-head="ssr" data-hid="keywords" name="keywords" content="thinkmoon,醉月思,指尖魔法屋"><meta data-n-head="ssr" data-hid="description" name="description" content="总结与记录是两个极其优秀的学习习惯！"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="/highlight/atom-one-dark.min.css"><link data-n-head="ssr" rel="stylesheet" href="/style.css"><script data-n-head="ssr" src="/highlight/highlight.min.js"></script><link rel="preload" href="/_nuxt/e4b7d96.js" as="script"><link rel="preload" href="/_nuxt/fc6b942.js" as="script"><link rel="preload" href="/_nuxt/css/edb8de7.css" as="style"><link rel="preload" href="/_nuxt/623b5d2.js" as="script"><link rel="preload" href="/_nuxt/746647a.js" as="script"><link rel="stylesheet" href="/_nuxt/css/edb8de7.css"><link rel="preload" href="/_nuxt/static/1620744781/post/297/state.js" as="script"><link rel="preload" href="/_nuxt/static/1620744781/post/297/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1620744781/manifest.js" as="script">
</head>
<body>
<div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><div class="container"><div class="article-content"><h1 class="article-title">
      使用console的一些骚操作来封装API请求及输出相关日志
    </h1> <div><h2 id="最终效果如下">最终效果如下</h2>
<p><img src="https://www.thinkmoon.cn/usr/uploads/2019/04/1897065195.png" alt="2019-04-02T02:54:35.png"><br><img src="https://www.thinkmoon.cn/usr/uploads/2019/04/798221859.png" alt="2019-04-02T02:57:55.png"></p>
<h2 id="代码如下">代码如下</h2>
<pre><code class="language-javascript">const baseURL = 'http://wxlc.wezoz.com/' // your base url
async function request(api, method, header, params) {
    console.group(api)
    console.log('%c' + method + ' REQUEST:', "color:green")
    console.log({
        'api': api,
        'header': header,
        'params': params
    })
    return await new Promise((resolve, reject) => {
        uni.request({
            url: baseURL + api,
            method: method,
            header: header,
            data: params,
            success: (result) => {
                console.log('%c' + method + ' SUCCESS RETURN DATA:', "color:green")
                console.log(result)
                console.groupEnd(api)
                resolve(result.data);
            },
            fail: (e) => {
                reject(e);
            }
        })
    })
}
async function post(api, params, success) {
    const POST_METHOD = 'POST'
    const POST_HEADER = {
        'content-type': 'application/x-www-form-urlencoded',
        'token': wx.getStorageSync('token')
    }
    return await request(api, POST_METHOD, POST_HEADER, params)
}
async function get(api, params, success) {
    const GET_METHOD = 'GET'
    const GET_HEADER = {
        'content-type': 'application/x-www-form-urlencoded',
        'token': wx.getStorageSync('token')
    }
    return await request(api, GET_METHOD, GET_HEADER, params)
}
module.exports = {
    POST: post,
    GET: get
}
</code></pre>
<h2 id="所用到的一些consloe骚操作">所用到的一些consloe骚操作</h2>
<h3 id="console内使用css样式">console内使用CSS样式</h3>
<p>consloe里面使用%c进行css样式格式化输出实例</p>
<pre><code>console.log("%c Hello World", "color:green")
</code></pre>
<p>上述语句会输出绿色的<code>Hello world</code>, 效果如下。</p>
<p><img src="https://www.thinkmoon.cn/usr/uploads/2019/04/3326939580.png" alt="2019-04-02T03:25:00.png"></p>
<p>然后你就可以根据你的css功底进行创造啦</p>
<h3 id="console内获取程序运行时间">console内获取程序运行时间</h3>
<p>一般大家看到这个题目，第一时间想到的绝对是获取startTime，endTime再求差对不？<br>其实console提供一个内嵌的console.time()和console.timeEnd()，代码如下<br><img src="https://www.thinkmoon.cn/usr/uploads/2019/04/116410319.png" alt="2019-04-02T03:30:19.png"></p>
<h3 id="console分组输出">console分组输出</h3>
<p>有得时候，大家打开控制台看见一堆输出是不是很头疼？如何在茫茫数据中找到自己想要的数据呢？你可以使用ground分组数据，让console变得清晰明了。<br>效果如下<br><img src="https://www.thinkmoon.cn/usr/uploads/2019/04/798221859.png" alt="2019-04-02T02:57:55.png"></p>
<h3 id="结语">结语</h3>
<p>我这里只是写了一些我自己常用到的一些功能，其实console对象还有很多函数。想玩一下的可以自己去尝试以下，发挥自己的想象力就会发现一些很有意思的玩法</p>
</div></div></div></div></div></div><script defer src="/_nuxt/static/1620744781/post/297/state.js"></script><script src="/_nuxt/e4b7d96.js" defer></script><script src="/_nuxt/fc6b942.js" defer></script><script src="/_nuxt/623b5d2.js" defer></script><script src="/_nuxt/746647a.js" defer></script>
</body>
<script defer>hljs.highlightAll()</script>
</html>

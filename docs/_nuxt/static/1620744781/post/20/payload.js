__NUXT_JSONP__("/post/20", (function(a,b){return {data:[{article:{cid:20,title:"微信公众平台开发笔记",slug:"20",created:1542338520,modified:1547608090,text:"\u003C!--markdown--\u003E1. URL跳转,\r\n  链接跳转\r\n  `https:\u002F\u002Fopen.weixin.qq.com\u002Fconnect\u002Foauth2\u002Fauthorize?appid=\".$this-\u003Eappid.\"&redirect_uri=\".urlencode(\"http:\u002F\u002F192.168.43.46\u002Fauit\u002Findex.php?c=app&m=oauth\").\"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\r\n\r\n1. 用户进入页面,拿code换取ACCESS_TOKEN, 请求代码\r\n\r\n  ```php\r\n  file_get_contents(\"https:\u002F\u002Fapi.weixin.qq.com\u002Fsns\u002Foauth2\u002Faccess_token?appid=\".$this-\u003Eappid.\"&secret=\".$this-\u003Esecret.\"&code=\".$_GET['code'].\"&grant_type=authorization_code\");\r\n  ```\r\n\r\n2. 用ACCESS_TOKEN换取用户数据,请求代码\r\n\r\n  ```php\r\n  file_get_contents(\"https:\u002F\u002Fapi.weixin.qq.com\u002Fsns\u002Fuserinfo?access_token=\".$data-\u003Eaccess_token.\"&openid=\".$data-\u003Eopenid.\"&lang=zh_CN\")\r\n  ```\r\n\r\n\u003E 流程示例代码\r\n```php\r\npublic function oauth(){\r\n      if (isset($_GET['code'])){\r\n          $data=json_decode(file_get_contents(\"https:\u002F\u002Fapi.weixin.qq.com\u002Fsns\u002Foauth2\u002Faccess_token?appid=\".$this-\u003Eappid.\"&secret=\".$this-\u003Esecret.\"&code=\".$_GET['code'].\"&grant_type=authorization_code\"));\r\n          $userInfo=json_decode(file_get_contents(\"https:\u002F\u002Fapi.w\r\n         eixin.qq.com\u002Fsns\u002Fuserinfo?access_token=\".$data-\u003Eaccess_token.\"&openid=\".$data-\u003Eopenid.\"&lang=zh_CN\"));\r\n          $user = array(\r\n              'openid'  =\u003E $userInfo-\u003Eopenid,\r\n              'nickname'     =\u003E $userInfo-\u003Enickname,\r\n              'headimgurl' =\u003E $userInfo-\u003Eheadimgurl\r\n          );\r\n          $this-\u003Esession-\u003Eset_userdata($user);\r\n          $this-\u003Edb-\u003Ereplace('user', $user);\r\n          redirect('client');\r\n      }else{\r\n          echo \"出现未知错误，如果重复出现该错误，请联系开发者。错误代码:Oauth:10203\";\r\n      }\r\n  }\r\n```\r\n\r\n### php密码操作(PHP 5 \u003E= 5.5.0, PHP 7)\r\n1. 加密操作:`string password_hash ( string $password , int $algo [, array $options ] )`\r\n\u003E 示例: \r\n\r\n```php\r\npassword_hash(\"admin\", PASSWORD_DEFAULT); \r\n```\r\n\r\n2. 判断操作: `bool password_verify ( string $password , string $hash )`\r\n\u003E 示例: \r\n\r\n```php\r\npassword_verify($password, $admin_data-\u003Erow()-\u003Epassword)\r\n```",order:a,authorId:1,type:"post",status:"publish",commentsNum:a,allowComment:b,allowPing:b,allowFeed:b,parent:a,views:1104,likes:a}}],fetch:{},mutations:void 0}}(0,"1")));
__NUXT_JSONP__("/post/900", {data:[{article:"\u003Ch2 id=\"引言\"\u003E引言\u003C\u002Fh2\u003E\n\u003Cp\u003E相信大家平常在开发过程中，经常会遇到此类需求。危险操作（如删除，退出登录）往往需要弹框提示给用户二次确认一下。本文介绍的是，如何使用js方法装饰器，封装二次确认弹框操作，增加小伙伴的开发效率。\u003C\u002Fp\u003E\n\u003Ch2 id=\"装饰器介绍\"\u003E装饰器介绍\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2020-08-03T08:01:10.png\" alt=\"2020-08-03T08:01:10.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E装饰器是对类、函数、属性之类的一种装饰，可以针对其添加一些额外的行为。详细使用，自行百度！\u003C\u002Fp\u003E\n\u003Ch2 id=\"常规手段\"\u003E常规手段\u003C\u002Fh2\u003E\n\u003Cp\u003Eview\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E&lt;div class=&quot;bg-white flex justify-center&quot;&gt;\n    &lt;div class=&quot;btn-primary&quot; @click=&quot;clickMe&quot;&gt;点我&lt;\u002Fdiv&gt;\n&lt;\u002Fdiv&gt;\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Ejs\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003EclickMe() {\n    uni.showModal({\n      title: &quot;点击提示&quot;,\n      content: &quot;你确定要点我？&quot;,\n      success: (res) =&gt; {\n        if (res.confirm) {\n          console.log(&quot;点我干啥&quot;);\n        }\n      },\n    });\n }\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E效果展示\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F%E8%A3%85%E9%A5%B0%E5%99%A8%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C.gif\" alt=\"装饰器点击效果\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"装饰器写法\"\u003E装饰器写法\u003C\u002Fh2\u003E\n\u003Cp\u003Econfirm.js\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003Efunction confirm(message: string, title: string, cancelFn = function() {}) {\n  return function(target: any, name: string, descriptor: any) {\n    const originFn = descriptor.value;\n    descriptor.value = function(rest: any) {\n      uni.showModal({\n        title: title,\n        content: message,\n        success: (res) =&gt; {\n          if (res.confirm) {\n            originFn.apply(this, rest);\n          }\n        },\n      });\n    };\n  };\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Emain.js\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E@confirm(&quot;你确定要点我？&quot;,&quot;点击提示&quot;)\n  clickMe() {\n    \u002F\u002F uni.showModal({\n    \u002F\u002F   title: &quot;点击提示&quot;,\n    \u002F\u002F   content: &quot;你确定要点我？&quot;,\n    \u002F\u002F   success: (res) =&gt; {\n    \u002F\u002F     if (res.confirm) {\n    \u002F\u002F       console.log(&quot;点我干啥&quot;);\n    \u002F\u002F     }\n    \u002F\u002F   },\n    \u002F\u002F });\n    console.log(&quot;点我干啥&quot;);\n  }\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E效果展示\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F%E8%A3%85%E9%A5%B0%E5%99%A8%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C.gif\" alt=\"装饰器点击效果\"\u003E\u003C\u002Fp\u003E\n"}],fetch:{},mutations:void 0});
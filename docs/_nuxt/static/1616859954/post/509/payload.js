__NUXT_JSONP__("/post/509", {data:[{article:"\u003C!--markdown--\u003E一个利用PHP群发微信消息的工具。上一篇讲到了如何用Server酱推送消息到个人微信，这篇我们一起来了解一下Server酱的进化版——pushbear，一对多微信消息推送\n\u003C!-- more --\u003E\n\u003Ch3 id=\"server酱的局限\"\u003EServer酱的局限\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E==首先这里的SCKEY与userID只是简单的一对一的关系，但其实如果做成一对多更好。因为这样便可以群发通知 #801400==\u003C\u002Fli\u003E\n\u003Cli\u003E==她这儿的的分享链接里面包含了很多个人敏感的信息，而其实这在微信的标准里面是不安全的。 #801900==\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"老规矩，pushbear官网httpspushbearftqqcomadmin\"\u003E老规矩，PushBear官网(\u003Ca href=\"https:\u002F\u002Fpushbear.ftqq.com\u002Fadmin\u002F#\u002F\"\u003Ehttps:\u002F\u002Fpushbear.ftqq.com\u002Fadmin\u002F#\u002F\u003C\u002Fa\u003E)\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509353273542.jpg\" alt=\"PushBear\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"使用流程\"\u003E使用流程\u003C\u002Fh3\u003E\n\u003Cp\u003E1.使用微信扫码登录网站\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509353583536.jpg\" alt=\"扫码登录\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E这个比Server好的地方就是它不需要使用github账号登录了，直接扫码即可。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E2.新建通道\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509353779939.jpg\" alt=\"新建通道\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E这里的通道的意思你可以把它，看作一个群。每一个通道负责群发消息到绑定这个管道 的微信。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E3.绑定用户到通道\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509353872869.jpg\" alt=\"绑定用户\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E这个也特别的方便，直接扫描订阅二维码即可\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E4.发送测试消息\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509353979228.jpg\" alt=\"发送测试消息\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E打开测试表单啦，然后测试\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509354217642.jpg\" alt=\"测试表单\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E5.使用PHP群发消息到微信\u003C\u002Fp\u003E\n\u003Cp\u003E一个函数就可以了，\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-php5\"\u003Efunction weixin_notify($header,$content){\n    $SENDKEY = &quot;1218-f6*************0b98d0a2e10fdd2&quot;;\u002F\u002F微信通知KEY\n    file_get_contents(&#39;https:\u002F\u002Fpushbear.ftqq.com\u002Fsub?sendkey=&#39;.$SENDKEY.&#39;&amp;text=&#39;.urlencode($header).&#39;&amp;desp=&#39;.urlencode($content));\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E6.效果展示\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509354665128.jpg\" alt=\"预览消息\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F1509354685511.jpg\" alt=\"消息内容\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"总结\"\u003E总结\u003C\u002Fh3\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E原理什么的，这次就不解释了，上一篇已经解释过了。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E现在我们已经可以利用Server酱发送服务器报警消息至开发者微信。\n然后再利用PushBear群发业务消息到用户微信。完美对接业务以及管理逻辑。\n是不感觉特别的方便？\u003C\u002Fp\u003E\n"}],fetch:{},mutations:void 0});
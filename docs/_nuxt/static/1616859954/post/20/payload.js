__NUXT_JSONP__("/post/20", {data:[{article:"\u003C!--markdown--\u003E1. URL跳转,\n\u003Cp\u003E  链接跳转\n  \u003Ccode\u003Ehttps:\u002F\u002Fopen.weixin.qq.com\u002Fconnect\u002Foauth2\u002Fauthorize?appid=&quot;.$this-&gt;appid.&quot;&amp;redirect_uri=&quot;.urlencode(&quot;http:\u002F\u002F192.168.43.46\u002Fauit\u002Findex.php?c=app&amp;m=oauth&quot;).&quot;&amp;response_type=code&amp;scope=snsapi_userinfo&amp;state=STATE#wechat_redirect\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cp\u003E用户进入页面,拿code换取ACCESS_TOKEN, 请求代码\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-php\"\u003Efile_get_contents(&quot;https:\u002F\u002Fapi.weixin.qq.com\u002Fsns\u002Foauth2\u002Faccess_token?appid=&quot;.$this-&gt;appid.&quot;&amp;secret=&quot;.$this-&gt;secret.&quot;&amp;code=&quot;.$_GET[&#39;code&#39;].&quot;&amp;grant_type=authorization_code&quot;);\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E用ACCESS_TOKEN换取用户数据,请求代码\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-php\"\u003Efile_get_contents(&quot;https:\u002F\u002Fapi.weixin.qq.com\u002Fsns\u002Fuserinfo?access_token=&quot;.$data-&gt;access_token.&quot;&amp;openid=&quot;.$data-&gt;openid.&quot;&amp;lang=zh_CN&quot;)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E流程示例代码\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-php\"\u003Epublic function oauth(){\n      if (isset($_GET[&#39;code&#39;])){\n          $data=json_decode(file_get_contents(&quot;https:\u002F\u002Fapi.weixin.qq.com\u002Fsns\u002Foauth2\u002Faccess_token?appid=&quot;.$this-&gt;appid.&quot;&amp;secret=&quot;.$this-&gt;secret.&quot;&amp;code=&quot;.$_GET[&#39;code&#39;].&quot;&amp;grant_type=authorization_code&quot;));\n          $userInfo=json_decode(file_get_contents(&quot;https:\u002F\u002Fapi.w\n         eixin.qq.com\u002Fsns\u002Fuserinfo?access_token=&quot;.$data-&gt;access_token.&quot;&amp;openid=&quot;.$data-&gt;openid.&quot;&amp;lang=zh_CN&quot;));\n          $user = array(\n              &#39;openid&#39;  =&gt; $userInfo-&gt;openid,\n              &#39;nickname&#39;     =&gt; $userInfo-&gt;nickname,\n              &#39;headimgurl&#39; =&gt; $userInfo-&gt;headimgurl\n          );\n          $this-&gt;session-&gt;set_userdata($user);\n          $this-&gt;db-&gt;replace(&#39;user&#39;, $user);\n          redirect(&#39;client&#39;);\n      }else{\n          echo &quot;出现未知错误，如果重复出现该错误，请联系开发者。错误代码:Oauth:10203&quot;;\n      }\n  }\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"php密码操作php-5--550-php-7\"\u003Ephp密码操作(PHP 5 &gt;= 5.5.0, PHP 7)\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E加密操作:\u003Ccode\u003Estring password_hash ( string $password , int $algo [, array $options ] )\u003C\u002Fcode\u003E\u003Cblockquote\u003E\n\u003Cp\u003E示例: \u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-php\"\u003Epassword_hash(&quot;admin&quot;, PASSWORD_DEFAULT); \n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Col start=\"2\"\u003E\n\u003Cli\u003E判断操作: \u003Ccode\u003Ebool password_verify ( string $password , string $hash )\u003C\u002Fcode\u003E\u003Cblockquote\u003E\n\u003Cp\u003E示例: \u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-php\"\u003Epassword_verify($password, $admin_data-&gt;row()-&gt;password)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n"}],fetch:{},mutations:void 0});
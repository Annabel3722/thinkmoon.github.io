__NUXT_JSONP__("/post/498", {data:[{article:"\u003C!--markdown--\u003E## 前言\n\n\u003Cp\u003E本文使用jQuery修改typecho让其在文章编辑页内支持\u003Ccode\u003ECTRL + S\u003C\u002Fcode\u003E保存文章草稿，typecho的版本为1.2 (18.10.23).\u003C\u002Fp\u003E\n\u003Ch2 id=\"为什么需要？\"\u003E为什么需要？\u003C\u002Fh2\u003E\n\u003Cp\u003E由于个人博客使用的typecho，在编辑文章的过程中经常习惯性的点击\u003Ccode\u003ECTRl + S\u003C\u002Fcode\u003E，然后就会非常不友好的提示了这个。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-28T06:59:58.png\" alt=\"2019-10-28T06:59:58.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E这对追求优雅的本宅来说，简直无法容忍。难道我要因此弃用typecho?这也太夸张了。那就来发挥我modify的能力吧，毕竟闲余折腾是我的一大乐趣，而且自己动手，丰衣足食嘛！\u003C\u002Fp\u003E\n\u003Ch2 id=\"心路历程\"\u003E心路历程\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cp\u003E首先，我知道这个理论上绝对可行，因为我用过很多此类功能。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E经查阅资料，chrome的适配最好，当然我也没考虑别的浏览器，因为我眼中的浏览器只有两种，chrome和不是chrome。随便一提：不用chrome的程序员不是优雅的程序员。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E分析实现方法，大致分为两步，监听\u003Ccode\u003Ectrl+s\u003C\u002Fcode\u003E时间和模拟点击保存草稿按钮\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E选型方面，由于typecho内置jquery，因此采用最快捷的办法\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"实现过程\"\u003E实现过程\u003C\u002Fh2\u003E\n\u003Ch3 id=\"确认页面是否支持jquery\"\u003E确认页面是否支持jQuery\u003C\u002Fh3\u003E\n\u003Cp\u003E为了避免重复引入，我们可在console中输入\u003Ccode\u003E$\u003C\u002Fcode\u003E，根据提示来确认是否已有jQuery\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-28T07:14:31.png\" alt=\"确认是否已有jQuery\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E如图，则表示已有jQuery。\u003C\u002Fp\u003E\n\u003Ch3 id=\"找到编辑文章的php页面\"\u003E找到编辑文章的php页面\u003C\u002Fh3\u003E\n\u003Cp\u003E嗯，就是这个路径\u003Ccode\u003Etypecho\u002Fadmin\u002Fwrite-post.php\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"找个合适位置放script\"\u003E找个合适位置放script\u003C\u002Fh3\u003E\n\u003Cp\u003E请在文件末尾插入一个script节点，以防止在jquery定义之前使用或者在\u003Ccode\u003Eif\u003C\u002Fcode\u003E语句中未应用。\u003C\u002Fp\u003E\n\u003Ch3 id=\"监听ctrl--s\"\u003E监听\u003Ccode\u003Ectrl + S\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E在script节点中插入以下代码\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$(window).keydown(function(event) {\n        if (event.ctrlKey &amp;&amp; event.which == 83) {\n            alert(&quot;Ctrl+S pressed.&quot;);\n            return false;\n        } else {\n            return true;\n        }\n    });\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E刷新编辑文章页，提示以下内容则监听成功。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-28T07:29:12.png\" alt=\"好像暗黑背景有点看不清？\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"模拟点击保存\"\u003E模拟点击保存\u003C\u002Fh2\u003E\n\u003Cp\u003E通过源代码分析，我们可以发现，保存文章的按钮id为\u003Ccode\u003Ebtn-save\u003C\u002Fcode\u003E。现在我们修改代码里面的内容如下\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$(window).keydown(function(event) {\n        if (event.ctrlKey &amp;&amp; event.which == 83) {\n            $(&quot;#btn-save&quot;).click();\n            return false;\n        } else {\n            return true;\n        }\n    });\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"大功告成\"\u003E大功告成\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-28T07:33:26.png\" alt=\"2019-10-28T07:33:26.png\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"结语\"\u003E结语\u003C\u002Fh2\u003E\n\u003Cp\u003E本文从技术层面上来说没什么亮点，这是我在尝试一种新的写作方式的练手篇。在原先只记录如何做的基础上，增加了了心路历程这一项，侧重于记录我在实际过程中一个想法到把它实现出来的整个过程，目的在于分享如何思考，从哪里开始，怎么实现的整个思维过程。大家且当抛砖引玉看看吧！\u003C\u002Fp\u003E\n\u003Ch2 id=\"参考资料\"\u003E参考资料\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.cnblogs.com\u002Ffreeweb\u002Fp\u002F4797872.html\"\u003EJavaScript或jQuery模拟点击超链接和按钮\u003C\u002Fa\u003E\n\u003Ca href=\"https:\u002F\u002Fblog.csdn.net\u002Fmilaner337\u002Farticle\u002Fdetails\u002F49835555\"\u003Ejavascript屏蔽Ctrl+s，F1，F3各浏览器兼容写法\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n"}],fetch:{},mutations:void 0});
__NUXT_JSONP__("/post/401", {data:[{article:"\u003C!--markdown--\u003E\u003E supervisor是一个守护进程工具\n\n\u003Ch2 id=\"安装\"\u003E安装\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode\u003Eyum install -y supervisor\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"配置\"\u003E配置\u003C\u002Fh2\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E安装后会生成如下内容\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-09-03T02:33:19.png\" alt=\"2019-09-03T02:33:19.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E我们查看一下\u003Ccode\u003E\u002Fetc\u002Fsupervisord.conf\u003C\u002Fcode\u003E,发现文件最后一行\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-09-03T02:39:38.png\" alt=\"2019-09-03T02:39:38.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E这就是在提示我们把配置文件写\u003Ccode\u003Esupervisord.d\u003C\u002Fcode\u003E目录下的\u003Ccode\u003Eini\u003C\u002Fcode\u003E文件里。\u003C\u002Fp\u003E\n\u003Ch3 id=\"创建配置文件\"\u003E创建配置文件\u003C\u002Fh3\u003E\n\u003Col\u003E\n\u003Cli\u003E首先切换到\u003Ccode\u003Esupervisord.d\u003C\u002Fcode\u003E目录\u003C\u002Fli\u003E\n\u003Cli\u003Etouch frps.ini\u003C\u002Fli\u003E\n\u003Cli\u003Enano frps.ini\u003C\u002Fli\u003E\n\u003Cli\u003E复制以下内容(示例为运行frps服务端)\u003Cpre\u003E\u003Ccode\u003E[program:frps]\nuser=root\ncommand=\u002Froot\u002Ffrp\u002Ffrps\u002Ffrps -c \u002Froot\u002Ffrp\u002Ffrps\u002Ffrps.ini\nstartsecs=1\nstartretries=100\nautorstart=true\nautorestart=true\nstderr_logfile=\u002Ftmp\u002Ferr-frps.log\nstderr_logfile_maxbytes=50MB\nstderr_logfile_backups=10\nstdout_logfile=\u002Ftmp\u002Fout-frps.log\nstdout_logfile_maxbytes=50MB\nstdout_logfile_backups=10\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"tips\"\u003Etips\u003C\u002Fh3\u003E\n\u003Cpre\u003E\u003Ccode\u003Esupervisorctl status \u002F\u002F查看状态\nsupervisorctl reload \u002F\u002F重载配置文件\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"运行\"\u003E运行\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode\u003Esupervisorctl reload\nsupervisord -c \u002Fetc\u002Fsupervisord.conf\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E然后再配置好开机自启就OK了\u003C\u002Fp\u003E\n"}],fetch:{},mutations:void 0});
__NUXT_JSONP__("/post/847", (function(a,b,c){return {data:[{article:{cid:847,title:"微信小程序页面改写组件教程",slug:"847",created:b,modified:b,text:"\u003C!--markdown--\u003E## 为什么需要？\r\n\r\n微信小程序里面页面与自定义组件的区别较大，而页面的可复用程度太低了。要么就是跳转页面，要么就是copy代码。如果我们要增加代码的可复用性，就可以借用Vue组件的思想，将页面改写为自定义组件。\r\n\r\n## 结构对比\r\n两者的视图文件，样式文件没有什么区别。主要区别最大的就是js文件，我们首先来看一下两者的结构。\r\n\r\n### page.js\r\n```javascript\r\npage({\r\n  \u002F\u002F 数据内容\r\n  data:{},\r\n  \u002F\u002F 生命周期函数\r\n  onLoad(){},\r\n  \u002F\u002F 一些自定义函数\r\n  someMethods(){}\r\n})\r\n```\r\n\r\n### componet.js\r\n```javascrpt\r\ncomponet({\r\n  \u002F\u002F 预设属性\r\n  properties: {},\r\n  \u002F\u002F 数据内容\r\n  data: {},\r\n  \u002F\u002F组件所在页面生命周期\r\n  pageLifetimes: {},\r\n  \u002F\u002F 生命周期函数-挂载\r\n  attached: function() {\r\n    \u002F\u002F 在组件实例进入页面节点树时执行\r\n  },\r\n  \u002F\u002F 生命周期函数-卸载\r\n  detached: function() {\r\n    \u002F\u002F 在组件实例被从页面节点树移除时执行\r\n  },\r\n  \u002F\u002F 自定义函数写结构里面\r\n  methods:{\r\n    someMethods(){}\r\n  }\r\n})\r\n```\r\n\r\n我们可以看到，两者的基本相似，大同小异。所以改写起来就特别方便啦~\r\n\r\n1. 将page改为componet\r\n2. 适配生命周期函数，例如将页面onLoad()函数改写为组件的attached()函数\r\n3. 将自定义函数someMethods()写到Componet的methods里面\r\n",order:c,authorId:1,type:"post",status:"publish",commentsNum:6,allowComment:a,allowPing:a,allowFeed:a,parent:c,views:1027,likes:4}}],fetch:{},mutations:void 0}}("1",1588343352,0)));